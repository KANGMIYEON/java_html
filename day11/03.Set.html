<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set type</title>
</head>
<body>
    <h1>
        자바스크립트에서 데이터 타입의 확장 개념으로 집합데이터를 다룰 수 있는 객체를 만듦
    </h1>
    <ul>
        <li>
            set 안의 중복데이터는 허용하지 않음 : 중복 검사 후 존재하는 데이터의 최초의 데이터만 저장
        </li>
        <li>
            Set() : 파라미터로는 배열을 주로 사용한다.
            => 배열의 index와 값을 활용하여 집합데이터를 만듦
        </li>
        <li>
            set의 전용 메서드들이 존재
        </li>
        <li>
            add : 값을 추가 : setName.add(값)
        </li>
        <li>
            size : 크기를 알려줌 : setName.size; // size() 아님
        </li>
        <li>
            has : 값이 있는지 검사 : setName.has(값) // 있으면 true, 없으면 false 반환
        </li>
        <li>
            delete : 값을 삭제 : setName.delete(값) // 성공하면 true, 아니면 false 반환
        </li>
        <li>
            clear : 모두 삭제 : setName.clear() 
        </li>
        <li>
            forEach(v, i, self(set)) // index == value (Set은 키가 별도로 존재하지 않음)
        </li>
        <li>
            const a = new Set([1,2,3]); : 배열을 Set으로 만드는 것 
        </li>
        <li>
            const b = [...a] : Set을 배열로 만드는 것
        </li>
        <li>
            setName.keys(), setName.values(), setName.entries()
            => 리턴타입 SetIterator : forEach로 순회하지 못하기 때문
        </li>
    </ul>
    <script>

        // 배열을 set으로 만들기
        const testSet = new Set(['html','css','js']);
        console.log(testSet);
        // add
        testSet.add('react');
        console.log(testSet);
        // size
        console.log(testSet.size);
        // delete
        testSet.delete('html');
        console.log(testSet);
        // has
        console.log(testSet.has('html'));
        console.log(testSet.has('react'));

        // forEach로 순회해보기
        testSet.forEach(function(value, index, self){
            console.log(index, value, self);
        });

        // keys(), values(), entries()로 순회
        console.log(testSet.keys());
        console.log(testSet.values());
        console.log(testSet.entries());
        console.log("---------------------------");

        for(const iter of testSet.entries()){
            // 배열 순회
            iter.forEach(function(v,i,s){
                console.log(i,v);
            });
        }

        for(const key of testSet.keys()){
            console.log(key);
        }

        // clear
        testSet.clear();
        console.log(testSet.size);

        // 새로운 Set을 생성하고,
        // 10, 1, 9, 6, test, [1,2,3], car, 객체2 추가
        const testSet2 = new Set();
        testSet2.add(10);
        testSet2.add(1);
        testSet2.add(9);
        testSet2.add(6);
        testSet2.add('test');
        testSet2.add([1,2,3]);
        // 객체 생성 후 add
        let car = {
            a:1,
            b:2
        };
        testSet2.add(car);
        // 객체 바로 add
        testSet2.add({a:3, b:4});

        // forEach로 순회해서 출력
        testSet2.forEach(function(value){
            console.log('test1 : ', value);
        });
        // for ~ of로 순회해서 출력
        for(let item of testSet2){
            console.log('test2 :', item);
        }
        
    </script>
</body>
</html>