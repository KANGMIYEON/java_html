<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map 자료구조</title>
</head>
<body>
    <h1>
        Map : key / value 형태로 데이터 한개를 배열로 만들어 다시 배열에 저장하는 방식
    </h1>
    <ul>
        <li>
            중첩 구조이기 때문에 key의 중복확인이 필수
        </li>
        <li>
            객체를 배열화 시킨 구조
        </li>
        <li>
            map.size : map의 데이터 수 리턴
        </li>
        <li>
            map.set(key,value) : 데이터 삽입
        </li>
        <li>
            map.get(key) : key에 해당하는 value를 조회
        </li>
        <li>
            map.delete(key) : key값으로 해당 데이터 제거 
        </li>
        <li>
            map.has(key) : 해당 key값의 데이터가 있는지 true / false로 리턴
        </li>
        <li>
            map.clear() : 모든 데이터 제거
        </li>
        <li>
            map.keys(), map.values(), map.entries() : map의 각 속성을 iterator로 리턴
        </li>
    </ul>
    <script>
        const myMap = new Map();
        // map.set 데이터 삽입
        myMap.set('html', 85);
        myMap.set('css', 97);
        myMap.set('js', 75);
        console.log(myMap);
        // map.size
        console.log(myMap.size);
        // map.get : key에 해당하는 value를 조회
        console.log(myMap.get('js'));
        // map.delete : key값으로 해당 데이터 제거
        myMap.delete('js');
        // map.has
        console.log(myMap.has('js'));
        // forEach로 순회
        myMap.forEach(function(v,k,s){
            console.log(k,v);
        })
        console.log("---------------------")
        
        // map.entries
        
        // 안 되는 방법
        // myMap.entries().forEach(function(v,k,s){
        //     console.log(k,v);
        // })

        for(const iter of myMap.entries()){
            for(const key in iter){
                console.log(key, iter[key]);
            }
        }

        // 점수 합계
        console.log(myMap.keys());
        console.log(myMap.values());
       
        let sum = 0;

        // myMap.forEach(function(v){
        //     sum += v;
        // })

        for(const s of myMap.values()){
            sum += s;
        }
        console.log(sum);
        // 점수 평균
        let ave = 0;
        avg = (sum/myMap.size).toFixed(2);
        console.log(avg);
    </script>
</body>
</html>