<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>클래스</title>
</head>
<body>
    <h1>
        class는 객체를 생성하기 위한 템플릿
    </h1>

    <script>
        
        class Car{
            // js에서 생성자는 1개만 가능
            constructor(name, year){ // 생성자
                this.name = name;
                this.year = year;
                this.model = "";
            }
        }

        // 객체 생성
        const myCar1 = new Car('포르쉐', 2022);
        const myCar2 = new Car('그랜저', 2021);
        console.log(myCar1);
        console.log(myCar2);

        let myCar3 = new Car();
        myCar3.name = '소나타';
        myCar3.year = 2022;
        console.log(myCar3);

        console.log(myCar1.name, myCar1.year);
        console.log(myCar2.name, myCar2.year);
        console.log(myCar3.name, myCar3.year);

        let myCar4 = new Car('스파크', 2020);
        myCar4.model = 'lpg';
        console.log(myCar4);
        console.log(myCar4.name, myCar4.year, myCar4.model);
        

        class Rectangle{
            // js에서 생성자는 1개만 가능
            constructor(height, width){
                this.height = height;
                this.width = width;
            }

            // method
            calcArea(){
                return this.height * this.width;
            }

            // getter
            get area(){
                return this.calcArea();
            }
        }

        const square = new Rectangle(10, 10);
        console.log(square.area);
        console.log(square.calcArea());

        console.log("----------------------");
        

        // class Point 생성 (5,5)로 출력
        class Point{
            constructor(x, y){
                this.x = x;
                this.y = y;
            }
            printPoint(){
                return `(${this.x}, ${this.y})`;
            }
        }
        const p1 = new Point(5,5);
        console.log(p1.printPoint());
        const p2 = new Point(10, 5);
        console.log(p2.printPoint());

        console.log("-----상속-----");

        class Animal{
            constructor(name){
                this.name = name;
            }
            speak(){
                console.log(`${this.name} 울음소리`);
            }
        }

        class Dog extends Animal{
            constructor(name){
                // 상속받은 클래스에 생성자가 있다면 super()를 먼저 호출해야 함.
                super(name);
            }
            speak(){
                super.speak();
                console.log("멍멍");
            }
        }

        let d = new Dog("뽀삐");
        d.speak();

        class Cat extends Animal{
            #name = '';
            constructor(name){ // super()를 먼저 호출하지 않으면 error!
                super(name);
            }
            set(name){
                this.#name = name;
            }
            speak(){
                super.speak();
                console.log(`${this.#name} 야옹`);
            }
        }
        let c = new Cat("나비");
        c.speak();
        
        // c.name = '코비';
        c.set('호비');
        c.speak();


    </script>
</body>
</html>